<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Analysis Workflow</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Source+Sans+3:wght@400;600&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: #0f1923;
    font-family: 'Source Sans 3', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 40px 20px;
  }
  .diagram {
    width: 1060px;
    background: #0f1923;
    padding: 50px 40px;
    position: relative;
  }
  h1 {
    font-family: 'Playfair Display', serif;
    color: #e8d5b7;
    font-size: 28px;
    text-align: center;
    margin-bottom: 8px;
    letter-spacing: 1px;
  }
  .subtitle {
    color: #7a8fa6;
    text-align: center;
    font-size: 13px;
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 50px;
  }
  .flow {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
  }
  .row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0;
    width: 100%;
  }
  .box {
    position: relative;
    border-radius: 6px;
    padding: 16px 22px;
    text-align: center;
    min-width: 180px;
    max-width: 220px;
    flex-shrink: 0;
  }
  .box .step-num {
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 6px;
    opacity: 0.7;
  }
  .box .label {
    font-size: 15px;
    font-weight: 600;
    line-height: 1.3;
  }
  .phase-1 { background: #1a3a2e; border: 2px solid #2d6e50; }
  .phase-1 .step-num { color: #4ecb8a; }
  .phase-1 .label { color: #a8e6c3; }
  .phase-2 { background: #1a2a3e; border: 2px solid #2d5080; }
  .phase-2 .step-num { color: #5b9bd5; }
  .phase-2 .label { color: #a8c8e8; }
  .phase-3 { background: #2a1a3e; border: 2px solid #5030a0; }
  .phase-3 .step-num { color: #9b5bd5; }
  .phase-3 .label { color: #c8a8e8; }
  .phase-5 { background: #3e1a2a; border: 2px solid #a03060; }
  .phase-5 .step-num { color: #d55b8b; }
  .phase-5 .label { color: #e8a8c0; }
  .arrow-down {
    display: flex;
    flex-direction: column;
    align-items: center;
    height: 40px;
    justify-content: center;
  }
  .arrow-down::before {
    content: '';
    width: 2px;
    height: 24px;
    background: #3a4a5a;
    display: block;
  }
  .arrow-down::after {
    content: '';
    width: 0; height: 0;
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
    border-top: 9px solid #3a4a5a;
    display: block;
    margin-top: -1px;
  }
  .arrow-right {
    display: flex;
    align-items: center;
    width: 60px;
    flex-shrink: 0;
  }
  .arrow-right::before {
    content: '';
    height: 2px;
    flex: 1;
    background: #3a4a5a;
  }
  .arrow-right::after {
    content: '';
    width: 0; height: 0;
    border-top: 7px solid transparent;
    border-bottom: 7px solid transparent;
    border-left: 9px solid #3a4a5a;
  }
  .arrow-bidir {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 70px;
    flex-shrink: 0;
    gap: 6px;
  }
  .arrow-bidir .ar { display: flex; align-items: center; width: 100%; }
  .arrow-bidir .line { height: 2px; flex: 1; background: #3a4a5a; }
  .arrow-bidir .tip-r { width:0; height:0; border-top:6px solid transparent; border-bottom:6px solid transparent; border-left:8px solid #3a4a5a; }
  .arrow-bidir .tip-l { width:0; height:0; border-top:6px solid transparent; border-bottom:6px solid transparent; border-right:8px solid #3a4a5a; }
  .wide-box { min-width: 240px; max-width: 280px; }
  .side-desc {
    display: flex;
    align-items: center;
    width: 190px;
    flex-shrink: 0;
    padding: 0 14px;
  }
  .side-desc-left  { justify-content: flex-end; text-align: right; }
  .side-desc-right { justify-content: flex-start; text-align: left; }
  .side-desc span { font-size: 11.5px; line-height: 1.55; }
  .desc-green  { color: #4ecb8a; font-style: italic; opacity: 0.85; }
  .desc-blue   { color: #6baee0; opacity: 0.85; }
  .desc-purple { color: #b888f0; opacity: 0.9; }
  .desc-purple em { font-style: italic; opacity: 0.7; }
  .legend {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-top: 44px;
    flex-wrap: wrap;
  }
  .legend-item { display: flex; align-items: center; gap: 8px; font-size: 12px; color: #5a6a7a; }
  .legend-dot  { width: 10px; height: 10px; border-radius: 2px; }
</style>
</head>
<body>
<div class="diagram">
  <h1>Data Analysis Workflow</h1>
  <p class="subtitle">Social Statistics &middot; Step-by-Step Process</p>

  <div class="flow">

    <!-- Steps 1 + 2: recursive -->
    <div class="row" style="position:relative; align-items:center;">
      <div class="side-desc side-desc-left">
        <span class="desc-green">"How is X related to Y?"</span>
      </div>
      <div class="box phase-1" style="min-width:190px;">
        <div class="step-num">Step 01 &middot; Formulation</div>
        <div class="label">Research Question</div>
      </div>
      <div class="arrow-right"></div>
      <div class="box phase-1" style="min-width:190px;">
        <div class="step-num">Step 02 &middot; Exploration</div>
        <div class="label">Explore Available Data</div>
      </div>
      <div class="side-desc side-desc-right">
        <span class="desc-green">GSS, WVS, Gallup, Pew, etc.</span>
      </div>
      <svg style="position:absolute; bottom:-38px; left:50%; transform:translateX(-50%);" width="300" height="40" overflow="visible">
        <defs>
          <marker id="arrowBack" markerWidth="8" markerHeight="8" refX="4" refY="4" orient="auto">
            <path d="M8,0 L0,4 L8,8 Z" fill="#3a4a5a"/>
          </marker>
        </defs>
        <path d="M 210,2 Q 210,32 150,32 Q 90,32 90,2"
              fill="none" stroke="#3a4a5a" stroke-width="2" stroke-dasharray="5,3"
              marker-start="url(#arrowBack)"/>
        <text x="150" y="28" text-anchor="middle" fill="#3a4a5a" font-size="9"
              font-family="Source Sans 3, sans-serif" letter-spacing="1">refine &amp; revisit</text>
      </svg>
    </div>

    <div class="arrow-down" style="margin-top:14px;"></div>

    <!-- Step 3: Identify Variables -->
    <div class="row" style="align-items:center;">
      <div class="side-desc side-desc-left"></div>
      <div class="box phase-1 wide-box">
        <div class="step-num">Step 03 &middot; Planning</div>
        <div class="label">Identify Variables</div>
      </div>
      <div class="side-desc side-desc-right">
        <span class="desc-green">Refer to Codebook or Webpage</span>
      </div>
    </div>

    <div class="arrow-down"></div>

    <!-- Step 4: Importing Data -->
    <div class="row">
      <div class="box phase-2 wide-box">
        <div class="step-num">Step 04 &middot; Collection</div>
        <div class="label">Importing Data</div>
      </div>
    </div>

    <div class="arrow-down"></div>

    <!-- Steps 5 + 6: Inspecting <-> Cleaning -->
    <div class="row" style="align-items:center;">
      <div class="side-desc side-desc-left">
        <span class="desc-blue">head, summary,<br>nrow, ncol, dim</span>
      </div>
      <div class="box phase-2" style="min-width:190px;">
        <div class="step-num">Step 05 &middot; Review</div>
        <div class="label">Inspecting Data</div>
      </div>
      <div class="arrow-bidir">
        <div class="ar"><div class="line"></div><div class="tip-r"></div></div>
        <div class="ar"><div class="tip-l"></div><div class="line"></div></div>
      </div>
      <div class="box phase-2" style="min-width:190px;">
        <div class="step-num">Step 06 &middot; Preparation</div>
        <div class="label">Cleaning Data</div>
      </div>
      <div class="side-desc side-desc-right">
        <span class="desc-blue">Transform variables,<br>Missing values,<br>Filter / Select / Rename</span>
      </div>
    </div>

    <div class="arrow-down"></div>

    <!-- Steps 7 + 8: Descriptive Stats + Associations -->
    <div class="row" style="align-items:center;">
      <div class="side-desc side-desc-left">
        <span class="desc-purple"><em>Categorical:</em> Frequency Tables<br><em>Numeric:</em> Mean, Median, Range,<br>SD, etc.</span>
      </div>
      <div class="box phase-3" style="min-width:195px;">
        <div class="step-num">Step 07 &middot; Analysis</div>
        <div class="label">Computing Descriptive Statistics</div>
      </div>
      <div class="arrow-right"></div>
      <div class="box phase-3" style="min-width:195px;">
        <div class="step-num">Step 08 &middot; Analysis</div>
        <div class="label">Exploring Associations</div>
      </div>
      <div class="side-desc side-desc-right">
        <span class="desc-purple"><em>Categorical:</em> Two-way Freq. Tables<br><em>Numeric:</em> Correlations</span>
      </div>
    </div>

    <div class="arrow-down"></div>

    <!-- Step 9: Visualization (Analysis) -->
    <div class="row">
      <div class="box phase-3 wide-box">
        <div class="step-num">Step 09 &middot; Analysis</div>
        <div class="label">Visualization</div>
      </div>
    </div>

    <div class="arrow-down"></div>

    <!-- Step 10: Presentation -->
    <div class="row">
      <div class="box phase-5 wide-box">
        <div class="step-num">Step 10 &middot; Communication</div>
        <div class="label">Presentation</div>
      </div>
    </div>

  </div>

  <!-- Legend -->
  <div class="legend">
    <div class="legend-item"><div class="legend-dot" style="background:#2d6e50;"></div>Formulation &amp; Planning</div>
    <div class="legend-item"><div class="legend-dot" style="background:#2d5080;"></div>Data Collection &amp; Preparation</div>
    <div class="legend-item"><div class="legend-dot" style="background:#5030a0;"></div>Statistical Analysis &amp; Visualization</div>
    <div class="legend-item"><div class="legend-dot" style="background:#a03060;"></div>Presentation</div>
  </div>
</div>
</body>
</html>
